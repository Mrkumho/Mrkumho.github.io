# 네트워킹 기초 요약 및 주요 명령어 정리

## 1. 네트워크란?

- **네트워크**는 두 대 이상의 컴퓨터가 서로 통신할 수 있도록 연결된 구조.
- 컴퓨터 A와 B가 통신하려면 스위치에 연결되어야 하며, 각 호스트에는 네트워크 인터페이스(물리적 또는 가상)가 필요.

## 2. 기본 네트워킹 개념

- **Switch(스위치):** 같은 네트워크 내의 장치들끼리 통신을 가능하게 함.
- **Router(라우터):** 서로 다른 네트워크를 연결해주는 장치.
- **Gateway(게이트웨이):** 다른 네트워크로 나가는 출입구 역할.

## 3. 주요 명령어와 사용법

### 3.1 IP 링크 및 인터페이스 확인
```bash
ip link
```
- 시스템에 존재하는 네트워크 인터페이스 목록을 보여줌.

### 3.2 IP 주소 확인 및 할당
```bash
ip addr
```
- 각 인터페이스에 할당된 IP 주소를 확인.
ip addr add <IP주소>/<서브넷> dev <인터페이스명>
```bash
예시
ip addr add 192.168.1.5/24 dev eth0
```
- 특정 인터페이스에 IP 주소를 할당.

### 3.3 라우팅 테이블 확인 및 설정
```bash
route
```
- 커널의 라우팅 테이블을 확인.
```bash
ip route
```

- 라우팅 테이블을 확인하거나 관리.

ip route add <목적지네트워크>/<서브넷> via <게이트웨이IP>
```bash
예시
ip route add 192.168.2.0/24 via 192.168.1.1
```
- 특정 네트워크로 가는 경로를 추가.

### 3.4 기본 게이트웨이 설정
```bash
ip route add default via <게이트웨이IP>
```
또는
```bash
ip route add 0.0.0.0/0 via <게이트웨이IP>
```

- 모든 외부 네트워크로의 트래픽을 지정한 게이트웨이로 보냄.

### 3.5 IP 포워딩(라우터 기능) 활성화
```bash
cat /proc/sys/net/ipv4/ip_forward
```

- 현재 IP 포워딩 설정값(0: 비활성, 1: 활성)을 확인.
```bash
echo 1 > /proc/sys/net/ipv4/ip_forward
```

- 임시로 IP 포워딩을 활성화합니다(재부팅 시 사라짐).

#### 영구 적용 방법

`/etc/sysctl.conf` 파일에 아래를 추가:
```bash
net.ipv4.ip_forward=1
```

- 적용 후 `sysctl -p` 명령어로 설정을 반영.

### 3.6 네트워크 설정 영구 저장

- 위 명령어들은 재부팅 시 사라질 수 있으므로, `/etc/network/interfaces` 또는 네트워크 매니저를 통해 영구적으로 설정해야 함.

## 4. 네트워크 트러블슈팅 팁

- 라우팅 테이블과 기본 게이트웨이 설정을 먼저 확인.
- IP 포워딩이 필요한 경우, 해당 설정이 올바르게 적용되어 있는지 확인.
